import { describe, it, expect, vi } from 'vitest';
import { createCrowdfundContract, EXLE_MAX_BYTE_BOX_FEE, EXLE_MINING_FEE } from './exle';
import { SByte, SColl, SLong } from '@fleet-sdk/serializer';

describe('createCrowdfundContract', () => {
	it('should return a string address', () => {
		//prettier-ignore
		const expectedAddress = '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';
		//const expectedAddress = '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';
		const params = {
			_MinFee: SLong(EXLE_MINING_FEE).toHex(),
			_MaxByteBoxFee: SLong(EXLE_MAX_BYTE_BOX_FEE).toHex(),
			_LoanId: SColl(
				SByte,
				'05692a2965c6bab42ef7e440ce25108e7f5cad42ec97ea7fe4fc6d55b7119141'
			).toHex(),
			_SLTCFTokenId: SColl(
				SByte,
				'48688bbd6bed0b8f27bfd795c7f5cebc42e7b07d1c201f65909dc95c9fbe73cf'
			).toHex(),
			_SLTRepaymentTokenId: SColl(
				SByte,
				'03faf2cb329f2e90d6d23b58d91bbb6c046aa143261cc21f52fbe2824bfcbf04'
			).toHex()
		};
		const result = createCrowdfundContract(params);
		expect(expectedAddress).toBe(result);
	});
});
